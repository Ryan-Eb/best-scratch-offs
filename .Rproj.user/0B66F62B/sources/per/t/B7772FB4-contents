---
title: "Florida Scratch Games"
output: 
  html_document:
    theme: yeti
---

```{r include=FALSE}
knitr::opts_chunk$set(echo = FALSE, 
                      warning = FALSE, 
                      message = FALSE,
                      fig.align = "center")


source("/Users/jennaryan/Documents/GitHub/best-scratch-offs/fl_data_prep.R")
```

#### Florida Scratch-Off Current Game Data {style="text-align: center"}

Sortable tables for all current FL scratch-off games with relevant data including, overall odds, prizes remaining and % of prizes claimes

#### Overall Odds {style="text-align: center"}

```{r}

library(DT)
#overall odds table
clean_df %>% 
  filter(scrape_date == max(scrape_date)) %>% 
  distinct(Game_number,.keep_all = TRUE) %>% 
  select(ticket_cost, Game_number, Game_name,start_overall_odds) %>% 
  mutate(odds = paste0("1-in-",round(start_overall_odds,2))) %>% 
  select(-start_overall_odds) %>% 
  DT::datatable(colnames = c("Ticket Cost", "Game #", "Game Name", "Overall Odds"),
                options = list(columnDefs = list(list(className = 'dt-center', targets = 0:4))))
```

#### Prizes Remaining {style="text-align: center"}

```{r}

clean_df %>% 
  filter(scrape_date == max(scrape_date)) %>% 
  select(ticket_cost, Game_number, Game_name, prize_amount,prizes_remaining) %>% 
  arrange(desc(prize_amount)) %>% 
  mutate(prize_amount = scales::label_dollar()(prize_amount)) %>% 
  DT::datatable(colnames = c("Ticket Cost", "Game #", "Game Name", "Prize Amount", "Prizes Remaining"),
                rownames = FALSE,
                options = list(columnDefs = list(list(className = 'dt-center', targets = 0:4))))
```

#### Expected return on 1\$ Initial and Current {style="text-align: center"}

```{r}
buy_out_df %>% 
  filter(scrape_date == max(scrape_date)) %>% 
  select(ticket_cost, Game_number,Game_name,start_roi,current_roi) %>% 
  arrange(desc(current_roi)) %>% 
  mutate(ret_start = scales::label_dollar()(1+1*start_roi),
         ret_current = scales::label_dollar()(1+1*current_roi)) %>% 
  select(-start_roi,-current_roi) %>% 
  DT::datatable(colnames = c("Ticket Cost", "Game #", "Game Name","Return on $1-Initial", "Return on $1-Current"),
                rownames = FALSE,
                options = list(columnDefs = list(list(className = 'dt-center', targets = 0:4))))
```
